sap.ui.define([                                                                                                                                                                                                                                                
	"zemhr/xx/SAPUI5Training/controller/BaseController"                                                                                                                                                                                                           
], function(BaseController) {                                                                                                                                                                                                                                  
	"use strict";                                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
	return BaseController.extend("zemhr.xx.SAPUI5Training.controller.Detail", {                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
		onInit : function() {                                                                                                                                                                                                                                        
			BaseController.prototype.onInit.apply(this, arguments);                                                                                                                                                                                                     
			                                                                                                                                                                                                                                                            
			this.getRouter().getRoute("detail").attachPatternMatched(this._onPatternMatched, this);                                                                                                                                                                     
		},                                                                                                                                                                                                                                                           
		                                                                                                                                                                                                                                                             
		_onPatternMatched : function(oEvent) {                                                                                                                                                                                                                       
			var that = this, oArguments;                                                                                                                                                                                                                                
			                                                                                                                                                                                                                                                            
			oArguments = oEvent.getParameter("arguments");                                                                                                                                                                                                              
			                                                                                                                                                                                                                                                            
			this.oView.bindElement({                                                                                                                                                                                                                                    
				path : "/results/" + oArguments.employeeNumber,                                                                                                                                                                                                            
				model : "employee",                                                                                                                                                                                                                                        
				events : {                                                                                                                                                                                                                                                 
					change : this._onBindingChange.bind(this),                                                                                                                                                                                                                
					dataRequested : function(oEvent) {                                                                                                                                                                                                                        
						that.oView.setBusy(true);                                                                                                                                                                                                                                
					},                                                                                                                                                                                                                                                        
					dataReceived : function(oEvent) {                                                                                                                                                                                                                         
						that.oView.setBusy(false);                                                                                                                                                                                                                               
					}                                                                                                                                                                                                                                                         
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
		},                                                                                                                                                                                                                                                           
		                                                                                                                                                                                                                                                             
		_onBindingChange : function(oEvent) {                                                                                                                                                                                                                        
			/* No data for the binding */                                                                                                                                                                                                                               
			if (!this.getView().getBindingContext("employee").getObject()) {                                                                                                                                                                                            
				this.getRouter().getTargets().display("notFound");                                                                                                                                                                                                         
			}                                                                                                                                                                                                                                                           
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
	});                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
});                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               